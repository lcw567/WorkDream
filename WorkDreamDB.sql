/* USER ���� (������ �������� ����) */
--CREATE USER CODESYNC IDENTIFIED BY CODESYNC;
--GRANT CONNECT, RESOURCE TO CODESYNC;

DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE POSTING CASCADE CONSTRAINTS;
DROP TABLE REPLY CASCADE CONSTRAINTS;
DROP TABLE COMMUNITY_POST_JOB_CATEGORY CASCADE CONSTRAINTS;
DROP TABLE COMMUNITY_POST_HASHTAG CASCADE CONSTRAINTS;
DROP TABLE BUSINESS CASCADE CONSTRAINTS;
DROP TABLE BUSINESS_BENEFIT CASCADE CONSTRAINTS;
DROP TABLE WORK_ENVIRONMENT_IMAGE CASCADE CONSTRAINTS;
DROP TABLE JOB_POSTING CASCADE CONSTRAINTS;
DROP TABLE JOB_REQUIREMENTS CASCADE CONSTRAINTS;
DROP TABLE BUSINESS_BOOKMARK CASCADE CONSTRAINTS;
DROP TABLE PERSON_BOOKMARK CASCADE CONSTRAINTS;
DROP TABLE APPLICANTS CASCADE CONSTRAINTS;
DROP TABLE PERSON CASCADE CONSTRAINTS;
DROP TABLE RESUME CASCADE CONSTRAINTS;
DROP TABLE ACADEMIC_ABILITY CASCADE CONSTRAINTS;
DROP TABLE LICENSE CASCADE CONSTRAINTS;
DROP TABLE LANGUAGE CASCADE CONSTRAINTS;
DROP TABLE AWARD CASCADE CONSTRAINTS;
DROP TABLE EXPERIENCE CASCADE CONSTRAINTS;
DROP TABLE EMPLOYMENT_PREFERENCES1 CASCADE CONSTRAINTS;
DROP TABLE EMPLOYMENTPREFERENCE CASCADE CONSTRAINTS;
DROP TABLE MILITARYSERVICE CASCADE CONSTRAINTS;
DROP TABLE SELF_INTRODUCTION CASCADE CONSTRAINTS;
DROP TABLE PORTFOLIO CASCADE CONSTRAINTS;
DROP TABLE SKILL CASCADE CONSTRAINTS;
DROP TABLE CAREER CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_UNO;
DROP SEQUENCE SEQ_PNO;
DROP SEQUENCE SEQ_BNO;
DROP SEQUENCE SEQ_JNO;
DROP SEQUENCE SEQ_JNO_R;
DROP SEQUENCE RESUME_SEQ;
DROP SEQUENCE BASICINFO_SEQ;
DROP SEQUENCE QUALIFICATION_SEQ;
DROP SEQUENCE ACADEMIC_ABILITY_SEQ;
DROP SEQUENCE EXPERIENCE_SEQ;
DROP SEQUENCE EMPLOYMENT_PREFERENCES_SEQ;
DROP SEQUENCE SKILL_SEQ;
DROP SEQUENCE CAREER_SEQ;
DROP SEQUENCE POSTING_SEQ;
DROP SEQUENCE REPLY_SEQ;

/* Member */
/* MEMBER ���̺� ���� */
CREATE TABLE MEMBER (
    USER_NO NUMBER NOT NULL,
    USER_TYPE CHAR(1) NOT NULL,
    USER_ID VARCHAR(20) NOT NULL,
    USER_PWD VARCHAR(16) NOT NULL,
    EMAIL VARCHAR2(30) NOT NULL,
    EROLL_DATE DATE,
    MODIFY_DATE TIMESTAMP NOT NULL,
    STATUS CHAR(1) DEFAULT 'Y' CHECK (STATUS IN('Y','N')),
    BUSINESS_NO NUMBER NULL,
    PERSON_NO NUMBER NULL
);

COMMENT ON COLUMN MEMBER.USER_NO IS 'ȸ����ȣ';
COMMENT ON COLUMN MEMBER.USER_TYPE IS 'ȸ������';
COMMENT ON COLUMN MEMBER.USER_ID IS 'ȸ�����̵�';
COMMENT ON COLUMN MEMBER.USER_PWD IS 'ȸ����й�ȣ';
COMMENT ON COLUMN MEMBER.EMAIL IS '�̸���';
COMMENT ON COLUMN MEMBER.EROLL_DATE IS 'ȸ��������';
COMMENT ON COLUMN MEMBER.MODIFY_DATE IS 'ȸ������������';
COMMENT ON COLUMN MEMBER.STATUS IS 'ȸ������(Y/N)';
COMMENT ON COLUMN MEMBER.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN MEMBER.PERSON_NO IS '���ι�ȣ';

/* POSTING ���̺� ���� */
CREATE TABLE POSTING (
    POSTING_NO NUMBER NOT NULL,
    CATEGORY VARCHAR2(100) NOT NULL,
    TITLE VARCHAR2(225) NOT NULL,
    CONTENT CLOB NOT NULL,
    IMAGE BLOB NULL,
    AUTHOR VARCHAR2(100) NOT NULL,
    USER_NO NUMBER NOT NULL,
    CREATED_TIME TIMESTAMP NOT NULL,
    UPDATED_TIME TIMESTAMP NULL,
    VIEW_COUNT NUMBER NOT NULL,
    LIKE_COUNT NUMBER NOT NULL,
    BUSINESS_NO NUMBER NULL,
    STATUS CHAR(1) DEFAULT 'Y' NOT NULL CHECK (STATUS IN ('Y','N')),
    PERSON_NO NUMBER NULL
);

COMMENT ON COLUMN POSTING.POSTING_NO IS '�Խñ۹�ȣ';
COMMENT ON COLUMN POSTING.CATEGORY IS 'ī�װ�';
COMMENT ON COLUMN POSTING.TITLE IS '�Խñ۳���';
COMMENT ON COLUMN POSTING.CONTENT IS '����';
COMMENT ON COLUMN POSTING.IMAGE IS '�̹���';
COMMENT ON COLUMN POSTING.AUTHOR IS '�ۼ���';
COMMENT ON COLUMN POSTING.USER_NO IS 'ȸ����ȣ';
COMMENT ON COLUMN POSTING.CREATED_TIME IS '�ۼ��ð�';
COMMENT ON COLUMN POSTING.UPDATED_TIME IS '�����ð�';
COMMENT ON COLUMN POSTING.VIEW_COUNT IS '��ȸ��';
COMMENT ON COLUMN POSTING.LIKE_COUNT IS '������';
COMMENT ON COLUMN POSTING.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN POSTING.STATUS IS '���� (Y/N)';
COMMENT ON COLUMN POSTING.PERSON_NO IS '���ι�ȣ';

/* REPLY ���̺� ���� */
CREATE TABLE REPLY (
    REPLY_NO NUMBER NOT NULL,
    POSTING_NO NUMBER NOT NULL,
    USER_NO NUMBER NOT NULL,
    CONTENT CLOB NOT NULL,
    CREATED_TIME TIMESTAMP DEFAULT SYSDATE,
    LIKE_COUNT NUMBER DEFAULT 0,
    STATUS CHAR(1) DEFAULT 'Y' NOT NULL CHECK (STATUS IN ('Y','N')),
    PRIMARY KEY (REPLY_NO)
);

COMMENT ON COLUMN REPLY.REPLY_NO IS '��� ��ȣ';
COMMENT ON COLUMN REPLY.POSTING_NO IS '�Խñ� ��ȣ';
COMMENT ON COLUMN REPLY.USER_NO IS 'ȸ�� ��ȣ';
COMMENT ON COLUMN REPLY.CONTENT IS '��� ����';
COMMENT ON COLUMN REPLY.CREATED_TIME IS '�ۼ� �ð�';
COMMENT ON COLUMN REPLY.LIKE_COUNT IS '���ƿ� ��';
COMMENT ON COLUMN REPLY.STATUS IS '���� (Y/N)';

/* COMMUNITY_POST_JOB_CATEGORY ���̺� ���� */
CREATE TABLE COMMUNITY_POST_JOB_CATEGORY (
    POSTING_NO NUMBER NOT NULL,
    JOB_CATEGORY VARCHAR2(100) NOT NULL
);

COMMENT ON COLUMN COMMUNITY_POST_JOB_CATEGORY.POSTING_NO IS '�Խñ۹�ȣ';
COMMENT ON COLUMN COMMUNITY_POST_JOB_CATEGORY.JOB_CATEGORY IS '����ī�װ�';

/* COMMUNITY_POST_HASHTAG ���̺� ���� */
CREATE TABLE COMMUNITY_POST_HASHTAG (
    POSTING_NO NUMBER NOT NULL,
    HASHTAG VARCHAR2(100) NOT NULL
);

COMMENT ON COLUMN COMMUNITY_POST_HASHTAG.POSTING_NO IS '�Խñ۹�ȣ';
COMMENT ON COLUMN COMMUNITY_POST_HASHTAG.HASHTAG IS '�ؽ��±�';

/* BUSINESS ���̺� ���� */
CREATE TABLE BUSINESS (
    BUSINESS_NO NUMBER NOT NULL,
    REGISTRATION_NUMBER VARCHAR2(12) NOT NULL,
    OWNER_NAME VARCHAR2(15) NOT NULL,
    COMPANY_NAME VARCHAR2(50) NOT NULL,
    COMPANY_CODE NUMBER NOT NULL,
    COMPANY_TEL VARCHAR2(15) NOT NULL,
    COMPANY_ADDR VARCHAR2(50) NOT NULL,
    COMPANY_FAX VARCHAR2(15) NULL,
    COMPANY_SITE VARCHAR2(50) NULL,
    LOGO VARCHAR2(500) NULL,
    INTRODUCTION CLOB NULL,
    VISION CLOB NULL,
    COMPANY_TYPE VARCHAR(50) NULL,
    EMPLOYEE_COUNT NUMBER NULL,
    INDUSTRY VARCHAR(100) NULL,
    BRAND_NAME VARCHAR(100) NULL
);

COMMENT ON COLUMN BUSINESS.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN BUSINESS.REGISTRATION_NUMBER IS '����ڵ�Ϲ�ȣ';
COMMENT ON COLUMN BUSINESS.OWNER_NAME IS '��ǥ�ڸ�';
COMMENT ON COLUMN BUSINESS.COMPANY_NAME IS '��ȣ��';
COMMENT ON COLUMN BUSINESS.COMPANY_CODE IS '����';
COMMENT ON COLUMN BUSINESS.COMPANY_TEL IS '����� ��ȭ��ȣ';
COMMENT ON COLUMN BUSINESS.COMPANY_ADDR IS '������ּ�';
COMMENT ON COLUMN BUSINESS.COMPANY_FAX IS '�ѽ���ȣ';
COMMENT ON COLUMN BUSINESS.COMPANY_SITE IS 'Ȩ�������ּ�';
COMMENT ON COLUMN BUSINESS.LOGO IS '�ΰ��̹���';
COMMENT ON COLUMN BUSINESS.INTRODUCTION IS '����Ұ�';
COMMENT ON COLUMN BUSINESS.VISION IS '�������';
COMMENT ON COLUMN BUSINESS.COMPANY_TYPE IS '�������';
COMMENT ON COLUMN BUSINESS.EMPLOYEE_COUNT IS '������';
COMMENT ON COLUMN BUSINESS.INDUSTRY IS '����';
COMMENT ON COLUMN BUSINESS.BRAND_NAME IS '�귣���';

/* BUSINESS_BENEFIT ���̺� ���� */
CREATE TABLE BUSINESS_BENEFIT (
    BUSINESS_NO NUMBER NOT NULL,
    BENEFIT VARCHAR2(100) NULL
);

COMMENT ON COLUMN BUSINESS_BENEFIT.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN BUSINESS_BENEFIT.BENEFIT IS '�����Ļ� �׸�';

/* WORK_ENVIRONMENT_IMAGE ���̺� ���� */
CREATE TABLE WORK_ENVIRONMENT_IMAGE (
    WORK_ENVIRONMENT_IMAGE_NO NUMBER NOT NULL,
    BUSINESS_NO NUMBER NOT NULL,
    IMAGE_URL VARCHAR2(500) NULL,
    TITLE VARCHAR2(255) NULL
);

COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.WORK_ENVIRONMENT_IMAGE_NO IS '�ٹ� ȯ���̹�������Ű';
COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.IMAGE_URL IS '�̹���URL';
COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.TITLE IS '�̹�������';

/* BUSINESS_BOOKMARK ���̺� ���� */
CREATE TABLE BUSINESS_BOOKMARK (
    BUSINESS_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    FLOER VARCHAR(15) NULL,
    ADD_DATE TIMESTAMP NULL
);

COMMENT ON COLUMN BUSINESS_BOOKMARK.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN BUSINESS_BOOKMARK.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN BUSINESS_BOOKMARK.FLOER IS '�з�����';
COMMENT ON COLUMN BUSINESS_BOOKMARK.ADD_DATE IS '�߰�����';

/* JOB_POSTING ���̺� ���� */
CREATE TABLE JOB_POSTING (
    RECRUITMENT_NO NUMBER NOT NULL,
    BUSINESS_NO NUMBER NOT NULL,
    TITLE VARCHAR2(50) NOT NULL,
    REPRESENTATIVE_NAME VARCHAR2(15) NOT NULL,
    REPRESENTATIVE_DEPT VARCHAR2(30) NOT NULL,
    REPRESENTATIVE_EMAIL VARCHAR2(50) NOT NULL,
    METHOD CHAR(1) NOT NULL,
    START_DATE TIMESTAMP NOT NULL,
    DEADLINE TIMESTAMP NOT NULL,
    POSTING_DATE DATE NOT NULL,
    CONTENT_IMG VARCHAR2(100) NULL,
    CONTENT_TEXT VARCHAR2(3000) NULL
);

COMMENT ON COLUMN JOB_POSTING.RECRUITMENT_NO IS '�����ȣ';
COMMENT ON COLUMN JOB_POSTING.BUSINESS_NO IS '�����ȣ';
COMMENT ON COLUMN JOB_POSTING.TITLE IS '��������';
COMMENT ON COLUMN JOB_POSTING.REPRESENTATIVE_NAME IS '������̸�';
COMMENT ON COLUMN JOB_POSTING.REPRESENTATIVE_DEPT IS '����ںμ�';
COMMENT ON COLUMN JOB_POSTING.REPRESENTATIVE_EMAIL IS '������̸���';
COMMENT ON COLUMN JOB_POSTING.METHOD IS '�������';
COMMENT ON COLUMN JOB_POSTING.START_DATE IS '����������';
COMMENT ON COLUMN JOB_POSTING.DEADLINE IS '����������';
COMMENT ON COLUMN JOB_POSTING.POSTING_DATE IS '����Խ���';
COMMENT ON COLUMN JOB_POSTING.CONTENT_IMG IS '����Ұ��̹���';
COMMENT ON COLUMN JOB_POSTING.CONTENT_TEXT IS '����Ұ���';

/* JOB_REQUIREMENTS ���̺� ���� */
CREATE TABLE JOB_REQUIREMENTS (
    POSITION_NO NUMBER NOT NULL,
    RECRUITMENT_NO NUMBER NOT NULL,
    POSITION_NAME VARCHAR2(50) NOT NULL,
    POSITION_RANK VARCHAR2(30) NOT NULL,
    EMPLOYMENT_FORM CHAR(1) NOT NULL,
    RECRUITED_PEOPLE NUMBER NOT NULL,
    WORKING_DAY NUMBER NOT NULL,
    WORKING_TIME_START TIMESTAMP NULL,
    WORKING_TIME_END TIMESTAMP NULL,
    WORKING_PLACE VARCHAR2(50) NOT NULL,
    MIN_SALARY NUMBER NOT NULL,
    MAX_SALARY NUMBER NOT NULL,
    ACADEMIC_ABILITY CHAR(2) NOT NULL,
    MIN_CAREER NUMBER NOT NULL,
    MAX_CAREER NUMBER NOT NULL
);

COMMENT ON COLUMN JOB_REQUIREMENTS.POSITION_NO IS '���üǹ�ȣ';
COMMENT ON COLUMN JOB_REQUIREMENTS.RECRUITMENT_NO IS '�����ȣ';
COMMENT ON COLUMN JOB_REQUIREMENTS.POSITION_NAME IS '�����о߸�';
COMMENT ON COLUMN JOB_REQUIREMENTS.POSITION_RANK IS '��������';
COMMENT ON COLUMN JOB_REQUIREMENTS.EMPLOYMENT_FORM IS '�������';
COMMENT ON COLUMN JOB_REQUIREMENTS.RECRUITED_PEOPLE IS '���� �ο�';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_DAY IS '�ٹ�����';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_TIME_START IS '�ٹ��ð�(����)';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_TIME_END IS '�ٹ��ð�(����)';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_PLACE IS '�ٹ��� �ּ�';
COMMENT ON COLUMN JOB_REQUIREMENTS.MIN_SALARY IS '���󿬺�(�ּ�)';
COMMENT ON COLUMN JOB_REQUIREMENTS.MAX_SALARY IS '���󿬺�(�ִ�)';
COMMENT ON COLUMN JOB_REQUIREMENTS.ACADEMIC_ABILITY IS '�ּҿ䱸�з�';
COMMENT ON COLUMN JOB_REQUIREMENTS.MIN_CAREER IS '�ּҰ��';
COMMENT ON COLUMN JOB_REQUIREMENTS.MAX_CAREER IS '�ִ���';

/* APPLICANTS ���̺� ���� */
CREATE TABLE APPLICANTS (
    APPLICANTS_NO NUMBER NOT NULL,
    RECRUITMENT_NO NUMBER NOT NULL,
    POSITION_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    APPLICANTS_DATE DATE NOT NULL,
    RESUME_STATUS CHAR(1) NOT NULL,
    SCORE NUMBER NULL,
    MEMO VARCHAR2(200) NULL,
    APPLICATION_STATUS VARCHAR2(15) NOT NULL,
    PASS_STATUS CHAR(1) NOT NULL
);

COMMENT ON COLUMN APPLICANTS.APPLICANTS_NO IS '�����ڹ�ȣ';
COMMENT ON COLUMN APPLICANTS.RECRUITMENT_NO IS '�����ȣ';
COMMENT ON COLUMN APPLICANTS.POSITION_NO IS '�����ǹ�ȣ';
COMMENT ON COLUMN APPLICANTS.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN APPLICANTS.APPLICANTS_DATE IS '������';
COMMENT ON COLUMN APPLICANTS.RESUME_STATUS IS '�̷¼���������';
COMMENT ON COLUMN APPLICANTS.SCORE IS '��';
COMMENT ON COLUMN APPLICANTS.MEMO IS '�޸�';
COMMENT ON COLUMN APPLICANTS.APPLICATION_STATUS IS '�����ܰ�';
COMMENT ON COLUMN APPLICANTS.PASS_STATUS IS '�հݿ���';

/* PERSON_BOOKMARK ���̺� ���� */
CREATE TABLE PERSON_BOOKMARK (
    PERSON_NO NUMBER NOT NULL,
    RECRUITMENT_NO NUMBER NOT NULL,
    FOLDER VARCHAR2(15) NULL,
    ADD_DATE TIMESTAMP NOT NULL
);

COMMENT ON COLUMN PERSON_BOOKMARK.PERSON_NO IS '���ι�ȣ';
COMMENT ON COLUMN PERSON_BOOKMARK.RECRUITMENT_NO IS '�����ȣ';
COMMENT ON COLUMN PERSON_BOOKMARK.FOLDER IS '�з�����';
COMMENT ON COLUMN PERSON_BOOKMARK.ADD_DATE IS '�߰�����';

/* PERSON ���̺� ���� */
CREATE TABLE PERSON (
    PERSON_NO NUMBER NOT NULL,
    NAME VARCHAR2(15) NOT NULL,
    BIRTHDAY DATE NULL,
    GENDER VARCHAR2(3) NULL,
    PHONE VARCHAR2(13) NULL,
    ADDRESS VARCHAR2(100) NULL
);

COMMENT ON COLUMN PERSON.PERSON_NO IS '���ι�ȣ';
COMMENT ON COLUMN PERSON.NAME IS 'ȸ���̸�';
COMMENT ON COLUMN PERSON.BIRTHDAY IS '�������';
COMMENT ON COLUMN PERSON.GENDER IS '����';
COMMENT ON COLUMN PERSON.PHONE IS '����ó';
COMMENT ON COLUMN PERSON.ADDRESS IS '�ּ�';

/* RESUME ���̺� ���� */
CREATE TABLE RESUME (
    RESUME_NO NUMBER NOT NULL,
    PERSON_NO NUMBER NOT NULL,
    TITLE VARCHAR2(50) NOT NULL,
    CREATE_DATE DATE NOT NULL,
    MODIFIED_DATE DATE NOT NULL,
    DELETED CHAR(1) NOT NULL CHECK (DELETED IN ('Y', 'N'))
);

COMMENT ON COLUMN RESUME.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN RESUME.PERSON_NO IS '���ι�ȣ';
COMMENT ON COLUMN RESUME.TITLE IS '�̷¼�����';
COMMENT ON COLUMN RESUME.CREATE_DATE IS '�ۼ�����';
COMMENT ON COLUMN RESUME.MODIFIED_DATE IS '��������';
COMMENT ON COLUMN RESUME.DELETED IS '��������';

/* ACADEMIC_ABILITY ���̺� ���� */
CREATE TABLE ACADEMIC_ABILITY (
    ACADEMIC_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    ACADEMIC_NAME VARCHAR2(30) NOT NULL,
    ACADEMIC_TYPE CHAR(2) NOT NULL,
    DEGREE CHAR(1) NULL,
    ENTER_DATE DATE NULL,
    GRADUATION_DATE DATE NULL,
    STATUS CHAR(1) NOT NULL,
    LOCATION VARCHAR2(10) NOT NULL
);

COMMENT ON COLUMN ACADEMIC_ABILITY.ACADEMIC_NO IS '�з¹�ȣ';
COMMENT ON COLUMN ACADEMIC_ABILITY.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN ACADEMIC_ABILITY.ACADEMIC_NAME IS '���������';
COMMENT ON COLUMN ACADEMIC_ABILITY.ACADEMIC_TYPE IS '�����������';
COMMENT ON COLUMN ACADEMIC_ABILITY.DEGREE IS '��������';
COMMENT ON COLUMN ACADEMIC_ABILITY.ENTER_DATE IS '��������';
COMMENT ON COLUMN ACADEMIC_ABILITY.GRADUATION_DATE IS '����(����)����';
COMMENT ON COLUMN ACADEMIC_ABILITY.STATUS IS '����';
COMMENT ON COLUMN ACADEMIC_ABILITY.LOCATION IS '����';

/* LICENSE ���̺� ���� */
CREATE TABLE LICENSE (
    LICENSE_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    LICENSE_NAME VARCHAR2(30) NULL,
    ISSUED_BY VARCHAR2(30) NULL,
    ISSUE_DATE DATE NULL,
    PASSING_CATEGORY VARCHAR2(30) NULL
);

COMMENT ON COLUMN LICENSE.LICENSE_NO IS '�ڰ�����ȣ';
COMMENT ON COLUMN LICENSE.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN LICENSE.LICENSE_NAME IS '�ڰ����̸�';
COMMENT ON COLUMN LICENSE.ISSUED_BY IS '�߱ޱ��';
COMMENT ON COLUMN LICENSE.ISSUE_DATE IS '�߱�����';
COMMENT ON COLUMN LICENSE.PASSING_CATEGORY IS '�հݱ���';

/* LANGUAGE ���̺� ���� */
CREATE TABLE LANGUAGE (
    LANGUAGE_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    LANGUAGE_NAME VARCHAR2(30) NULL,
    PROFICIENCY_LEVEL VARCHAR2(30) NULL,
    ACQUISITION_DATE DATE NULL,
    KIND_OF_LANGUAGE VARCHAR2(10) NOT NULL
);

COMMENT ON COLUMN LANGUAGE.LANGUAGE_NO IS '���й�ȣ';
COMMENT ON COLUMN LANGUAGE.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN LANGUAGE.LANGUAGE_NAME IS '����̸�';
COMMENT ON COLUMN LANGUAGE.PROFICIENCY_LEVEL IS '�޼�';
COMMENT ON COLUMN LANGUAGE.ACQUISITION_DATE IS '�����';
COMMENT ON COLUMN LANGUAGE.KIND_OF_LANGUAGE IS '�������';

/* AWARD ���̺� ���� */
CREATE TABLE AWARD (
    AWARD_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    AWARD_NAME VARCHAR2(50) NULL,
    ORGANIZER VARCHAR2(50) NULL,
    AWARD_DATE DATE NULL
);

COMMENT ON COLUMN AWARD.AWARD_NO IS '�����ȣ';
COMMENT ON COLUMN AWARD.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN AWARD.AWARD_NAME IS '����/��������Ī';
COMMENT ON COLUMN AWARD.ORGANIZER IS '���ֱ��';
COMMENT ON COLUMN AWARD.AWARD_DATE IS '��������';

/* EXPERIENCE ���̺� ���� */
CREATE TABLE EXPERIENCE (
    EXPERIENCE_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    ACTICITY_TYPE VARCHAR2(50) NULL,
    ORGANIZATION_NAME VARCHAR2(100) NULL,
    START_DATE DATE NULL,
    END_DATE DATE NULL,
    DESCRIPTION VARCHAR2(300) NULL
);

COMMENT ON COLUMN EXPERIENCE.EXPERIENCE_NO IS '����/Ȱ��/������ȣ';
COMMENT ON COLUMN EXPERIENCE.RESUME_NO IS '�̷¼�����Ű';
COMMENT ON COLUMN EXPERIENCE.ACTICITY_TYPE IS 'Ȱ������';
COMMENT ON COLUMN EXPERIENCE.ORGANIZATION_NAME IS '���/��Ҹ�';
COMMENT ON COLUMN EXPERIENCE.START_DATE IS '���ۿ���';
COMMENT ON COLUMN EXPERIENCE.END_DATE IS '���Ῥ��';
COMMENT ON COLUMN EXPERIENCE.DESCRIPTION IS 'Ȱ������';

/* EMPLOYMENT_PREFERENCES1 ���̺� ���� */
CREATE TABLE EMPLOYMENT_PREFERENCES1 (
    EMPLOYMENT_PREFERENCES_NO1 NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    MARRIAGE_REASON VARCHAR2(200) NULL,
    IS_MILITARY_TARGET VARCHAR2(10) NOT NULL
);

COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.EMPLOYMENT_PREFERENCES_NO1 IS '��������� ����Ű1';
COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.MARRIAGE_REASON IS '���ƻ���';
COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.IS_MILITARY_TARGET IS '������󿩺�';

/* EMPLOYMENTPREFERENCE ���̺� ���� */
CREATE TABLE EMPLOYMENTPREFERENCE (
    EMPLOYMENT_PREFERENCES_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    MARRIAGE_REASON VARCHAR2(255) NULL,
    IS_MILITARY_TARGET VARCHAR2(50) NOT NULL
);

COMMENT ON COLUMN EMPLOYMENTPREFERENCE.EMPLOYMENT_PREFERENCES_NO IS '��������� ����Ű';
COMMENT ON COLUMN EMPLOYMENTPREFERENCE.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN EMPLOYMENTPREFERENCE.MARRIAGE_REASON IS '���ƻ���';
COMMENT ON COLUMN EMPLOYMENTPREFERENCE.IS_MILITARY_TARGET IS '������󿩺�';

/* MILITARYSERVICE ���̺� ���� */
CREATE TABLE MILITARYSERVICE (
    EMPLOYMENT_PREFERENCES_NO NUMBER NOT NULL,
    ENLISTMENT_DATE DATE NULL,
    ENTIRE_DATE DATE NULL,
    MILITARY_SELECTION VARCHAR2(10) NULL,
    CLASS_SELECTION VARCHAR2(10) NULL,
    ENTRIE_REASON VARCHAR2(20) NULL,
    EXEMPTION_REASON VARCHAR2(225) NULL,
    UNFINISHED_REASON VARCHAR2(225) NULL
);

COMMENT ON COLUMN MILITARYSERVICE.EMPLOYMENT_PREFERENCES_NO IS '�Դ��ȣ';
COMMENT ON COLUMN MILITARYSERVICE.ENLISTMENT_DATE IS '�Դ���';
COMMENT ON COLUMN MILITARYSERVICE.ENTIRE_DATE IS '������';
COMMENT ON COLUMN MILITARYSERVICE.MILITARY_SELECTION IS '��������';
COMMENT ON COLUMN MILITARYSERVICE.CLASS_SELECTION IS '��޼���';
COMMENT ON COLUMN MILITARYSERVICE.ENTRIE_REASON IS '��������';
COMMENT ON COLUMN MILITARYSERVICE.EXEMPTION_REASON IS '��������';
COMMENT ON COLUMN MILITARYSERVICE.UNFINISHED_REASON IS '���ʻ���';

/* SELF_INTRODUCTION ���̺� ���� */
CREATE TABLE SELF_INTRODUCTION (
    SELF_INTRODUCTION_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    USER_ID VARCHAR2(20) NOT NULL,
    TITLE VARCHAR2(100) NOT NULL,
    CONTENT VARCHAR2(500) NOT NULL,
    CREATED_DATE DATE NOT NULL,
    MODIFIED_DATE DATE NULL,
    DELETED CHAR(1) NULL CHECK (DELETED IN ('Y', 'N'))
);

COMMENT ON COLUMN SELF_INTRODUCTION.SELF_INTRODUCTION_NO IS '�ڱ�Ұ��� ��ȣ';
COMMENT ON COLUMN SELF_INTRODUCTION.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN SELF_INTRODUCTION.USER_ID IS '�ۼ��ڹ�ȣ';
COMMENT ON COLUMN SELF_INTRODUCTION.TITLE IS '�ڱ�Ұ��� ����';
COMMENT ON COLUMN SELF_INTRODUCTION.CONTENT IS '�ڱ�Ұ��� ����';
COMMENT ON COLUMN SELF_INTRODUCTION.CREATED_DATE IS '�ۼ�����';
COMMENT ON COLUMN SELF_INTRODUCTION.MODIFIED_DATE IS '��������';
COMMENT ON COLUMN SELF_INTRODUCTION.DELETED IS '��������';

/* PORTFOLIO ���̺� ���� */
CREATE TABLE PORTFOLIO (
    PORTFOLIO_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    TITLE VARCHAR2(100) NOT NULL,
    TYPE VARCHAR2(10) NOT NULL CHECK (TYPE IN ('����', 'URL')),
    FILE_URL VARCHAR2(200) NULL
);

COMMENT ON COLUMN PORTFOLIO.PORTFOLIO_NO IS '��Ʈ������ ��ȣ';
COMMENT ON COLUMN PORTFOLIO.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN PORTFOLIO.TITLE IS '��Ʈ������ ����';
COMMENT ON COLUMN PORTFOLIO.TYPE IS '��Ʈ������ ����';
COMMENT ON COLUMN PORTFOLIO.FILE_URL IS '���ϰ�� �Ǵ� URL�ּ�';

/* SKILL ���̺� ���� */
CREATE TABLE SKILL (
    SKILL_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    SKILL VARCHAR2(1000) NULL
);

COMMENT ON COLUMN SKILL.SKILL_NO IS '��ų��ȣ';
COMMENT ON COLUMN SKILL.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN SKILL.SKILL IS '��ų';

/* CAREER ���̺� ���� */
CREATE TABLE CAREER (
    WORK_EX_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    COMPANY_TITLE VARCHAR2(50) NOT NULL,
    WORK VARCHAR2(20) NOT NULL,
    DEPARTMENT VARCHAR2(20) NOT NULL,
    START_DATE DATE NOT NULL,
    END_DATE DATE NULL,
    STATUS CHAR(1) NOT NULL CHECK (STATUS IN ('Y', 'N')),
    JOB_CONTENT VARCHAR2(100) NOT NULL,
    POSITION VARCHAR2(20) NOT NULL
);

COMMENT ON COLUMN CAREER.WORK_EX_NO IS '��¹�ȣ';
COMMENT ON COLUMN CAREER.RESUME_NO IS '�̷¼���ȣ';
COMMENT ON COLUMN CAREER.COMPANY_TITLE IS 'ȸ���';
COMMENT ON COLUMN CAREER.WORK IS '����';
COMMENT ON COLUMN CAREER.DEPARTMENT IS '�ٹ��μ�';
COMMENT ON COLUMN CAREER.START_DATE IS '�Ի�⵵';
COMMENT ON COLUMN CAREER.END_DATE IS '���⵵';
COMMENT ON COLUMN CAREER.STATUS IS '�ٹ���Ȳ';
COMMENT ON COLUMN CAREER.JOB_CONTENT IS '�ֿ� ���� ����';
COMMENT ON COLUMN CAREER.POSITION IS '����/��å';

/* ���� ���� �߰� */
ALTER TABLE MEMBER
    ADD CONSTRAINT PK_MEMBER PRIMARY KEY (USER_NO);
ALTER TABLE BUSINESS
    ADD CONSTRAINT PK_BUSINESS PRIMARY KEY (BUSINESS_NO);
ALTER TABLE MEMBER
    ADD CONSTRAINT FK_MEMBER_BUSINESS FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);
ALTER TABLE PERSON
    ADD CONSTRAINT PK_PERSON PRIMARY KEY (PERSON_NO);
ALTER TABLE MEMBER
    ADD CONSTRAINT FK_MEMBER_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);

ALTER TABLE POSTING
    ADD CONSTRAINT PK_POSTING PRIMARY KEY (POSTING_NO);
ALTER TABLE POSTING
    ADD CONSTRAINT FK_POSTING_BUSINESS FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);
ALTER TABLE POSTING
    ADD CONSTRAINT FK_POSTING_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);
ALTER TABLE POSTING
    ADD CONSTRAINT FK_POSTING_USER FOREIGN KEY (USER_NO) REFERENCES MEMBER (USER_NO);

ALTER TABLE COMMUNITY_POST_JOB_CATEGORY
    ADD CONSTRAINT FK_COMMUNITY_JOB_CATEGORY FOREIGN KEY (POSTING_NO) REFERENCES POSTING (POSTING_NO);

ALTER TABLE COMMUNITY_POST_HASHTAG
    ADD CONSTRAINT FK_COMMUNITY_HASHTAG FOREIGN KEY (POSTING_NO) REFERENCES POSTING (POSTING_NO);



ALTER TABLE BUSINESS_BENEFIT
    ADD CONSTRAINT FK_BUSINESS_BENEFIT FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);

ALTER TABLE WORK_ENVIRONMENT_IMAGE
    ADD CONSTRAINT PK_WORK_ENVIRONMENT_IMAGE PRIMARY KEY (WORK_ENVIRONMENT_IMAGE_NO);
ALTER TABLE WORK_ENVIRONMENT_IMAGE
    ADD CONSTRAINT FK_WORK_ENVIRONMENT_IMAGE FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);
ALTER TABLE RESUME
    ADD CONSTRAINT PK_RESUME PRIMARY KEY (RESUME_NO, PERSON_NO);
ALTER TABLE BUSINESS_BOOKMARK
    ADD (PERSON_NO NUMBER);

ALTER TABLE BUSINESS_BOOKMARK
    ADD CONSTRAINT FK_BUSINESS_BOOKMARK_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE JOB_POSTING
    ADD CONSTRAINT PK_JOB_POSTING PRIMARY KEY (RECRUITMENT_NO);
ALTER TABLE JOB_POSTING
    ADD CONSTRAINT FK_JOB_POSTING_BUSINESS FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);

ALTER TABLE JOB_REQUIREMENTS
    ADD CONSTRAINT PK_JOB_REQUIREMENTS PRIMARY KEY (POSITION_NO);
ALTER TABLE JOB_REQUIREMENTS
    ADD CONSTRAINT FK_JOB_REQ_RECRUIT_NO FOREIGN KEY (RECRUITMENT_NO) REFERENCES JOB_POSTING (RECRUITMENT_NO);

ALTER TABLE APPLICANTS
    ADD CONSTRAINT PK_APPLICANTS PRIMARY KEY (APPLICANTS_NO);
ALTER TABLE APPLICANTS
    ADD CONSTRAINT FK_RECRUITMENT FOREIGN KEY (RECRUITMENT_NO) REFERENCES JOB_POSTING (RECRUITMENT_NO);

ALTER TABLE APPLICANTS
    ADD (PERSON_NO NUMBER);
ALTER TABLE APPLICANTS
    ADD CONSTRAINT FK_APPLICANTS_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE PERSON_BOOKMARK
    ADD CONSTRAINT FK_PERSON_BOOKMARK_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);
ALTER TABLE PERSON_BOOKMARK
    ADD CONSTRAINT FK_PERSON_BOOKMARK_RECRUITMENT FOREIGN KEY (RECRUITMENT_NO) REFERENCES JOB_POSTING (RECRUITMENT_NO);

ALTER TABLE RESUME
    ADD CONSTRAINT FK_RESUME_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);
ALTER TABLE ACADEMIC_ABILITY
    ADD (PERSON_NO NUMBER);
ALTER TABLE ACADEMIC_ABILITY
    ADD CONSTRAINT PK_ACADEMIC_ABILITY PRIMARY KEY (ACADEMIC_NO, RESUME_NO);
ALTER TABLE ACADEMIC_ABILITY
    ADD CONSTRAINT FK_ACADEMIC_ABILITY_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);
ALTER TABLE LICENSE
    ADD (PERSON_NO NUMBER);
ALTER TABLE LICENSE
    ADD CONSTRAINT PK_LICENSE PRIMARY KEY (LICENSE_NO, RESUME_NO);
ALTER TABLE LICENSE
    ADD CONSTRAINT FK_LICENSE_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);
ALTER TABLE LANGUAGE
    ADD (PERSON_NO NUMBER);
ALTER TABLE LANGUAGE
    ADD CONSTRAINT PK_LANGUAGE PRIMARY KEY (LANGUAGE_NO, RESUME_NO);
ALTER TABLE LANGUAGE
    ADD CONSTRAINT FK_LANGUAGE_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE AWARD
    ADD (PERSON_NO NUMBER);
ALTER TABLE AWARD
    ADD CONSTRAINT PK_AWARD PRIMARY KEY (AWARD_NO, RESUME_NO);
ALTER TABLE AWARD
    ADD CONSTRAINT FK_AWARD_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE EXPERIENCE
    ADD (PERSON_NO NUMBER);
ALTER TABLE EXPERIENCE
    ADD CONSTRAINT PK_EXPERIENCE PRIMARY KEY (EXPERIENCE_NO, RESUME_NO);
ALTER TABLE EXPERIENCE
    ADD CONSTRAINT FK_EXPERIENCE_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE EMPLOYMENT_PREFERENCES1
    ADD (PERSON_NO NUMBER);
ALTER TABLE EMPLOYMENT_PREFERENCES1
    ADD CONSTRAINT PK_EMPLOYMENT_PREFERENCES1 PRIMARY KEY (EMPLOYMENT_PREFERENCES_NO1, RESUME_NO);
ALTER TABLE EMPLOYMENT_PREFERENCES1
    ADD CONSTRAINT FK_EMP_PREF1_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE EMPLOYMENTPREFERENCE
    ADD (PERSON_NO NUMBER);
ALTER TABLE EMPLOYMENTPREFERENCE
    ADD CONSTRAINT PK_EMPLOYMENTPREFERENCE PRIMARY KEY (EMPLOYMENT_PREFERENCES_NO, RESUME_NO);
ALTER TABLE EMPLOYMENTPREFERENCE
    ADD CONSTRAINT FK_EMP_PREF_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE SELF_INTRODUCTION
    ADD (PERSON_NO NUMBER);
ALTER TABLE SELF_INTRODUCTION
    ADD CONSTRAINT PK_SELF_INTRODUCTION PRIMARY KEY (SELF_INTRODUCTION_NO, RESUME_NO);
ALTER TABLE SELF_INTRODUCTION
    ADD CONSTRAINT FK_SELF_INTRO_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE PORTFOLIO
    ADD (PERSON_NO NUMBER);
ALTER TABLE PORTFOLIO
    ADD CONSTRAINT PK_PORTFOLIO PRIMARY KEY (PORTFOLIO_NO, RESUME_NO);
ALTER TABLE PORTFOLIO
    ADD CONSTRAINT FK_PORTFOLIO_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE SKILL
    ADD (PERSON_NO NUMBER);
ALTER TABLE SKILL
    ADD CONSTRAINT PK_SKILL PRIMARY KEY (SKILL_NO, RESUME_NO);
ALTER TABLE SKILL
    ADD CONSTRAINT FK_SKILL_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE CAREER
    ADD (PERSON_NO NUMBER);
ALTER TABLE CAREER
    ADD CONSTRAINT PK_CAREER PRIMARY KEY (WORK_EX_NO, RESUME_NO);
ALTER TABLE CAREER
    ADD CONSTRAINT FK_CAREER_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

/* REPLY ���̺� ���� ���� �߰� */
ALTER TABLE REPLY
    ADD CONSTRAINT FK_REPLY_POSTING FOREIGN KEY (POSTING_NO) REFERENCES POSTING (POSTING_NO);

ALTER TABLE REPLY
    ADD CONSTRAINT FK_REPLY_USER FOREIGN KEY (USER_NO) REFERENCES MEMBER (USER_NO);

/* ������ ���� */
CREATE SEQUENCE SEQ_UNO NOCACHE;
CREATE SEQUENCE SEQ_PNO NOCACHE;
CREATE SEQUENCE SEQ_BNO NOCACHE;
CREATE SEQUENCE SEQ_JNO NOCACHE;
CREATE SEQUENCE SEQ_JNO_R NOCACHE;
CREATE SEQUENCE RESUME_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE BASICINFO_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE QUALIFICATION_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE ACADEMIC_ABILITY_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE EXPERIENCE_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE EMPLOYMENT_PREFERENCES_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SKILL_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE CAREER_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE POSTING_SEQ NOCACHE;
CREATE SEQUENCE REPLY_SEQ NOCACHE;

commit;